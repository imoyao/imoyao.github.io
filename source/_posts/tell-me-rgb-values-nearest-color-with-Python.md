---
title: ä¸­å›½ä¼ ç»Ÿè‰² | å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªé¢œè‰²å±äºä»€ä¹ˆè‰²ç³»ï¼Ÿ
date: 2020-04-15 23:19:44
tags:
- è‰²ç³»
- é¢œè‰²
- Python
- è£…é¥°å™¨
categories:
- Projects
- GUSCSS
cover: /images/colorful-pexel.jpg
subtitle: è°èƒ½åœ¨å½©è™¹é‡Œç”»ä¸‹ç´«è‰²ç»“æŸã€æ©™è‰²å¼€å§‹çš„åˆ†ç•Œçº¿å‘¢ï¼Ÿæˆ‘ä»¬èƒ½æ¸…æ™°åœ°çœ‹åˆ°é¢œè‰²çš„ä¸åŒï¼Œä½†æ˜¯ç©¶ç«Ÿåœ¨ä»€ä¹ˆåœ°æ–¹ä¸€ç§é¢œè‰²é€æ¸åœ°æ··å…¥äº†å¦ä¸€ç§é¢œè‰²å‘¢ï¼Ÿç†æ™ºå’Œç–¯ç‹‚çš„ç•Œé™ï¼Œäº¦æ˜¯å¦‚æ­¤ã€‚<br> â€”â€”èµ«å°”æ›¼Â·æ¢…ç»´å°”ï¼Œã€Šæ¯”åˆ©Â·å·´å¾·ã€‹
---

## èƒŒæ™¯

åœ¨åš [é¡¹ç›®](https://github.com/imoyao/GUSCSS/) çš„æ—¶å€™ï¼Œéœ€è¦åˆ¤æ–­ä¸€ä¸ªé¢œè‰²å€¼æ‰€åœ¨è‰²ç³»ï¼ˆå¦‚ï¼šçº¢æ©™é»„ç»¿é’è“ç´«é»‘ç™½ç°ï¼‰ï¼Œç”¨çœ¼ç›è§‚å¯Ÿå¤ªæ…¢ï¼Œç®—ä¸ä¸Šå¥½åŠæ³•ï¼Œé‚£ä¹ˆæ€ä¹ˆåˆ¤æ–­å‘¢ï¼Ÿé€šè¿‡é˜…è¯» [è¯¥è®¨è®º](https://www.v2ex.com/amp/t/153186) çŸ¥é“äº†ä¸€ç§æ–¹æ¡ˆï¼šå°† RGB è‰²å€¼è½¬åŒ–ä¸º HSVï¼Œä¹‹åé€šè¿‡ Hue å»åˆ¤æ–­å½©è‰²çš„ç§ç±»ï¼Œç”¨æ˜åº¦å»åˆ¤æ–­é»‘ç™½ç°ã€‚å…·ä½“å®ç°å¦‚ä¸‹ã€‚

## åŸºç¡€çŸ¥è¯†

### RGB

RGB æ˜¯ä»é¢œè‰²å‘å…‰çš„åŸç†æ¥è®¾è®¡å®šçš„ï¼Œé€šä¿—ç‚¹è¯´å®ƒçš„é¢œè‰²æ··åˆæ–¹å¼å°±å¥½åƒæœ‰çº¢ã€ç»¿ã€è“ä¸‰ç›ç¯ï¼Œå½“å®ƒä»¬çš„å…‰ç›¸äº’å åˆçš„æ—¶å€™ï¼Œè‰²å½©ç›¸æ··ï¼Œè€Œäº®åº¦å´ç­‰äºä¸¤è€…äº®åº¦ä¹‹æ€»å’Œï¼Œè¶Šæ··åˆäº®åº¦è¶Šé«˜ï¼Œå³åŠ æ³•æ··åˆã€‚

çº¢ã€ç»¿ã€è“ä¸‰ä¸ªé¢œè‰²é€šé“æ¯ç§è‰²å„åˆ†ä¸º 256 é˜¶äº®åº¦ï¼Œåœ¨ 0 æ—¶â€œç¯â€æœ€å¼±â€”â€”æ˜¯å…³æ‰çš„ï¼Œè€Œåœ¨ 255 æ—¶â€œç¯â€æœ€äº®ã€‚å½“ä¸‰è‰²ç°åº¦æ•°å€¼ç›¸åŒæ—¶ï¼Œäº§ç”Ÿä¸åŒç°åº¦å€¼çš„ç°è‰²è°ƒï¼Œå³ä¸‰è‰²ç°åº¦éƒ½ä¸º 0 æ—¶ï¼Œæ˜¯æœ€æš—çš„é»‘è‰²è°ƒï¼›ä¸‰è‰²ç°åº¦éƒ½ä¸º 255 æ—¶ï¼Œæ˜¯æœ€äº®çš„ç™½è‰²è°ƒã€‚

åœ¨ç”µè„‘ä¸­ï¼ŒRGB çš„æ‰€è°“â€œå¤šå°‘â€å°±æ˜¯æŒ‡äº®åº¦ï¼Œå¹¶ä½¿ç”¨æ•´æ•°æ¥è¡¨ç¤ºã€‚é€šå¸¸æƒ…å†µä¸‹ï¼ŒRGB å„æœ‰ 256 çº§äº®åº¦ï¼Œç”¨æ•°å­—è¡¨ç¤ºä¸ºä» 0ã€1ã€2...ç›´åˆ° 255ã€‚æ³¨æ„è™½ç„¶æ•°å­—æœ€é«˜æ˜¯ 255ï¼Œä½† 0 ä¹Ÿæ˜¯æ•°å€¼ä¹‹ä¸€ï¼Œå› æ­¤å…± 256 çº§ã€‚
![RGB](/images/RGB.png)

### HSV

HSV æ˜¯ä¸€ç§æ¯”è¾ƒç›´è§‚çš„é¢œè‰²æ¨¡å‹ï¼Œæ‰€ä»¥åœ¨è®¸å¤šå›¾åƒç¼–è¾‘å·¥å…·ä¸­åº”ç”¨æ¯”è¾ƒå¹¿æ³›ï¼Œè¿™ä¸ªæ¨¡å‹ä¸­é¢œè‰²çš„å‚æ•°åˆ†åˆ«æ˜¯ï¼šè‰²è°ƒï¼ˆH, Hueï¼‰ï¼Œé¥±å’Œåº¦ï¼ˆS,Saturationï¼‰ï¼Œæ˜åº¦ï¼ˆV, Valueï¼‰ã€‚
{% gallery %}
![HSV1](/images/HSV1.png)
![HSV2](/images/HSV2.png)
{% endgallery %}

#### è‰²è°ƒï¼ˆHueï¼‰

ç”¨è§’åº¦åº¦é‡ï¼Œå–å€¼èŒƒå›´ä¸º 0Â°ï½360Â°ï¼Œä»çº¢è‰²å¼€å§‹æŒ‰é€†æ—¶é’ˆæ–¹å‘è®¡ç®—ï¼Œçº¢è‰²ä¸º 0Â°ï¼Œç»¿è‰²ä¸º 120Â°,è“è‰²ä¸º 240Â°ã€‚å®ƒä»¬çš„è¡¥è‰²æ˜¯ï¼šé»„è‰²ä¸º 60Â°ï¼Œé’è‰²ä¸º 180Â°,å“çº¢ä¸º 300Â°ï¼›

#### é¥±å’Œåº¦ï¼ˆSaturationï¼‰

é¥±å’Œåº¦ S è¡¨ç¤ºé¢œè‰²æ¥è¿‘å…‰è°±è‰²çš„ç¨‹åº¦ã€‚ä¸€ç§é¢œè‰²ï¼Œå¯ä»¥çœ‹æˆæ˜¯æŸç§å…‰è°±è‰²ä¸ç™½è‰²æ··åˆçš„ç»“æœã€‚å…¶ä¸­å…‰è°±è‰²æ‰€å çš„æ¯”ä¾‹æ„ˆå¤§ï¼Œé¢œè‰²æ¥è¿‘å…‰è°±è‰²çš„ç¨‹åº¦å°±æ„ˆé«˜ï¼Œé¢œè‰²çš„é¥±å’Œåº¦ä¹Ÿå°±æ„ˆé«˜ã€‚é¥±å’Œåº¦é«˜ï¼Œé¢œè‰²åˆ™æ·±è€Œè‰³ã€‚å…‰è°±è‰²çš„ç™½å…‰æˆåˆ†ä¸º 0ï¼Œé¥±å’Œåº¦è¾¾åˆ°æœ€é«˜ã€‚é€šå¸¸å–å€¼èŒƒå›´ä¸º 0%ï½100%ï¼Œå€¼è¶Šå¤§ï¼Œé¢œè‰²è¶Šé¥±å’Œã€‚

#### æ˜åº¦ï¼ˆValueï¼‰

æ˜åº¦è¡¨ç¤ºé¢œè‰²æ˜äº®çš„ç¨‹åº¦ï¼Œå¯¹äºå…‰æºè‰²ï¼Œæ˜åº¦å€¼ä¸å‘å…‰ä½“çš„å…‰äº®åº¦æœ‰å…³ï¼›å¯¹äºç‰©ä½“è‰²ï¼Œæ­¤å€¼å’Œç‰©ä½“çš„é€å°„æ¯”æˆ–åå°„æ¯”æœ‰å…³ã€‚é€šå¸¸å–å€¼èŒƒå›´ä¸º 0%ï¼ˆé»‘ï¼‰åˆ° 100%ï¼ˆç™½ï¼‰ã€‚

#### å–å€¼èŒƒå›´è¯´æ˜

æˆ‘ä»¬éœ€è¦æ³¨æ„çš„åœ¨ä¸åŒåº”ç”¨åœºæ™¯ä¸­ï¼ŒHSV å–å€¼èŒƒå›´æ˜¯ä¸å°½ç›¸åŒçš„ã€‚

1.PS è½¯ä»¶æ—¶ï¼ŒH å–å€¼èŒƒå›´æ˜¯ 0-360ï¼ŒS å–å€¼èŒƒå›´æ˜¯ï¼ˆ0%-100%ï¼‰ï¼ŒV å–å€¼èŒƒå›´æ˜¯ï¼ˆ0%-100%ï¼‰ã€‚

2.åˆ©ç”¨ openCV ä¸­ cvSplit å‡½æ•°çš„åœ¨é€‰æ‹©å›¾åƒ IPL_DEPTH_32F ç±»å‹æ—¶ï¼ŒH å–å€¼èŒƒå›´æ˜¯ 0-360ï¼ŒS å–å€¼èŒƒå›´æ˜¯ 0-1ï¼ˆ0%-100%ï¼‰ï¼ŒV å–å€¼èŒƒå›´æ˜¯ 0-1ï¼ˆ0%-100%ï¼‰ã€‚

3.åˆ©ç”¨ openCV ä¸­ cvSplit å‡½æ•°çš„åœ¨é€‰æ‹©å›¾åƒ IPL_DEPTH_8UC ç±»å‹æ—¶ï¼ŒH å–å€¼èŒƒå›´æ˜¯ 0-180ï¼ŒS å–å€¼èŒƒå›´æ˜¯ 0-255ï¼ŒV å–å€¼èŒƒå›´æ˜¯ 0-255ã€‚

é‚£ä¹ˆï¼Œå¼€å§‹å†™ä»£ç å§ï¼

## RGB è½¬ HSV

### å…¬å¼
- å¸¸é‡
![constant](/images/constant_HSV.svg)
```mathml
$$
\begin{array}{l}
R^{\prime}=R / 255\\

G^{\prime}=G / 255\\

B^{\prime}=B / 255\\
\operatorname{Cmax}=\max \left(R^{\prime}, G^{\prime}, B^{\prime}\right)\\

C \min =\min \left(R^{\prime}, G^{\prime}, B^{\prime}\right)\\
\Delta=\mathrm{Cmax}-\mathrm{Cmin}
\end{array}
$$
```
- H è®¡ç®—
![H](/images/HSV_Hue.svg)
```plain
$$
H=\left\{\begin{array}{cc}0^{\circ} & \Delta=0 \\ 60^{\circ} \times\left(\frac{G^{\prime}-B^{\prime}}{A} \bmod 6\right) & , C_{\max }=R^{\prime} \\ 60^{\circ} \times\left(\frac{B^{\prime}-R^{\prime}}{\Delta}+2\right) & , C_{\max }=G^{\prime} \\ 60^{\circ} \times\left(\frac{R^{\prime}-G^{\prime}}{\Delta}+4\right) & , C_{\max }=B^{\prime}\end{array}\right.
$$
```
- S è®¡ç®—
![S](/images/HSV_S.svg)
```plain
$$
S=\left\{\begin{array}{cl}
0 & C \max =0 \\
\frac{\Delta}{C \max } & C \max \neq 0
\end{array}\right.
$$
```
- V è®¡ç®—
![V](/images/HSV_V.svg)
```plain
$V=C \max$
```

### ä»£ç ï¼ˆRGB è½¬ HSVï¼‰
```python
def hue_calculate_org(round1, round2, delta, add_num):
    return ((round1 - round2) / delta + add_num) * 60


def rgb_to_hsv_org(rgb_seq):
    r, g, b = rgb_seq
    r_round = float(r) / 255
    g_round = float(g) / 255
    b_round = float(b) / 255
    max_c = max(r_round, g_round, b_round)
    min_c = min(r_round, g_round, b_round)
    delta = max_c - min_c
    h = None
    if delta == 0:
        h = 0
    elif max_c == r_round:
        h = ((g_round - b_round) / delta % 6) * 60
    elif max_c == g_round:
        h = hue_calculate_org(b_round, r_round, delta, 2)
    elif max_c == b_round:
        h = hue_calculate_org(r_round, g_round, delta, 4)
    if max_c == 0:
        s = 0
    else:
        s = delta / max_c
    return h, s, max_c
```
å¦ä¸€ç§è®¡ç®—æ–¹å¼æ¥è‡ªæ­¤å¤„ï¼šğŸ‘‰ [Python Math: Convert RGB color to HSV color - w3resource](https://www.w3resource.com/python-exercises/math/python-math-exercise-77.php)
```python
def hue_calculate(round1, round2, delta, add_num):
    return (((round1 - round2) / delta) * 60 + add_num) % 360


def rgb_to_hsv(rgb_seq):
    r, g, b = rgb_seq
    r_round = float(r) / 255
    g_round = float(g) / 255
    b_round = float(b) / 255
    max_c = max(r_round, g_round, b_round)
    min_c = min(r_round, g_round, b_round)
    delta = max_c - min_c

    h = None
    if delta == 0:
        h = 0
    elif max_c == r_round:
        h = hue_calculate(g_round, b_round, delta, 360)
    elif max_c == g_round:
        h = hue_calculate(b_round, r_round, delta, 120)
    elif max_c == b_round:
        h = hue_calculate(r_round, g_round, delta, 240)
    if max_c == 0:
        s = 0
    else:
        s = (delta / max_c) * 100
    v = max_c * 100
    return h, s, v
```

## é¢œè‰²åˆ’åˆ†

### åˆ†æ

{%raw%}
<table class="dtable">
		<tbody><tr>
			<th>Color</th>
			<th>Color name</th>
			<th>(H,S,V)</th>
			<th>Hex</th>
			<th>(R,G,B)</th>
		</tr>
		<tr>
			<td style="background-color:#000000">&nbsp;</td>
			<td>Black</td>
			<td>(0Â°,0%,0%)</td>
			<td>#000000</td>
			<td>(0,0,0)</td>
		</tr>
        <tr>
			<td style="background-color:#808080">&nbsp;</td>
			<td>Gray</td>
			<td>(0Â°,0%,50%)</td>
			<td>#808080</td>
			<td>(128,128,128)</td>
		</tr>
		<tr>
			<td style="background-color:#FFFFFF">&nbsp;</td>
			<td>White</td>
			<td>(0Â°,0%,100%)</td>
			<td>#FFFFFF</td>
			<td>(255,255,255)</td>
		</tr>
		<tr>
			<td style="background-color:#FF0000">&nbsp;</td>
			<td>Red</td>
			<td>(0Â°,100%,100%)</td>
			<td>#FF0000</td>
			<td>(255,0,0)</td>
		</tr>
        <tr>
			<td style="background-color:#FFFF00">&nbsp;</td>
			<td>Yellow</td>
			<td>(60Â°,100%,100%)</td>
			<td>#FFFF00</td>
			<td>(255,255,0)</td>
		</tr>
		<tr>
			<td style="background-color:#00FF00">&nbsp;</td>
			<td>Lime</td>
			<td>(120Â°,100%,100%)</td>
			<td>#00FF00</td>
			<td>(0,255,0)</td>
		</tr>
		<tr>
			<td style="background-color:#00FFFF">&nbsp;</td>
			<td>Cyan</td>
			<td>(180Â°,100%,100%)</td>
			<td>#00FFFF</td>
			<td>(0,255,255)</td>
		</tr>
		<tr>
			<td style="background-color:#0000FF">&nbsp;</td>
			<td>Blue</td>
			<td>(240Â°,100%,100%)</td>
			<td>#0000FF</td>
			<td>(0,0,255)</td>
		</tr>
		<tr>
			<td style="background-color:#FF00FF">&nbsp;</td>
			<td>Magenta</td>
			<td>(300Â°,100%,100%)</td>
			<td>#FF00FF</td>
			<td>(255,0,255)</td>
		</tr>
	</tbody>
</table>
{%endraw%}

æ•°æ®æ¥æºï¼š[HSV to RGB conversion | color conversion](https://www.rapidtables.com/convert/color/hsv-to-rgb.html)
çœ‹~~è‰²å›¾~~ï¼Œå“¦ä¸ï¼Œè‰²ç¯å›¾ã€‚ğŸ˜³
![è‰²ç¯å›¾](/images/color_circle.jpg)

å…ˆä¸ç®¡é»‘ç°ç™½ä¸‰ç§è‰²ï¼Œæ‰¾å…¶ä»–é¢œè‰²ä¸è‰²ç¯çš„å¯¹åº”å…³ç³»ï¼Œæˆ‘ä»¬å¾ˆå®¹æ˜“å‘ç° H ä¸è‰²ç¯çš„å¯¹åº”å…³ç³»ã€‚
1. å˜æ¢è‰²ç›¸ Hï¼Œä¿æŒ Sï¼ŒV ä¸å˜ï¼Œé¢œè‰²å‘ç”Ÿå˜åŒ–ï¼›
{% gallery %}
![H30](/images/change_H_30.png)
![H60](/images/change_H_60.png)
![H180](/images/change_H_180.png)
![H210](/images/change_H_210.png)
![H270](/images/change_H_270.png)
![H330](/images/change_H_330.png)
![H360](/images/change_S_4.png)
{% endgallery %}
ä¿®æ”¹ H ä¼šå¼•èµ·é¢œè‰²å˜åŒ–ï¼›
2. å˜æ¢äº®åº¦ Vï¼Œä¿æŒ Hï¼ŒS ä¸å˜ï¼Œæˆ‘ä»¬å‘ç°é¢œè‰²åœ¨é»‘ç°ç™½ä¹‹é—´å˜åŒ–ï¼›
{% gallery %}
![V100](/images/change_V_100.png)
![V50](/images/change_V_50.png)
![V0](/images/change_V_0.png)
{% endgallery %}
3. å˜æ¢é¥±å’Œåº¦ Sï¼Œä¿æŒ Hï¼ŒV ä¸å˜ï¼Œé¢œè‰²ä¸ä¼šå˜åŒ–ï¼Œå˜çš„åªæ˜¯é¢œè‰²çš„æ·±æµ…ç¨‹åº¦ï¼›
{% gallery %}
![HSV1](/images/change_S_1.png)
![HSV1](/images/change_S_2.png)
![HSV1](/images/change_S_3.png)
![HSV1](/images/change_S_4.png)
{% endgallery %}
å› ä¸ºäººçœ¼å¯¹æ˜äº®çš„é¢œè‰²æ›´åŠ æ•æ„Ÿï¼Œæ‰€ä»¥æˆ‘ä»¬é€‚å½“è°ƒé«˜äº®åº¦ï¼Œä¹‹åé€æ¸ä¿®æ”¹ Sï¼Œè§‚å¯Ÿé¢œè‰²å˜åŒ–ã€‚
æœ‰å†…å‘³å„¿äº†ï¼Œé¢œè‰²å˜å¾—è¶Šæ¥è¶Šæµ“éƒäº†ï¼

### ä»£ç 

#### é¢œè‰²å½’ç±»ï¼ˆæŒ‰è‰²ç³»ï¼‰

```python

def find_color_series(rgb_seq):  # TODO:æ­¤å¤„æ˜¯å¦æœ‰æ›´å¥½å®ç°ï¼Ÿ
    """
    å°†rgbè½¬ä¸ºhsvä¹‹åæ ¹æ®hå’Œvå¯»æ‰¾è‰²ç³»
    :param rgb_seq:
    :return:
    """
    h, s, v = rgb_to_hsv(rgb_seq)
    cs = None
    if 30 < h <= 90:
        cs = 'yellow'
    elif 90 < h <= 150:
        cs = 'green'
    elif 150 < h <= 210:
        cs = 'cyan'
    elif 210 < h <= 270:
        cs = 'blue'
    elif 270 < h <= 330:
        cs = 'purple'
    elif h > 330 or h <= 30:
        cs = 'red'

    if s < 10:  # è‰²ç›¸å¤ªæ·¡æ—¶ï¼Œæ˜¾ç¤ºä»€ä¹ˆé¢œè‰²ä¸»è¦ç”±äº®åº¦æ¥å†³å®š
        cs = update_by_value(v)
    assert cs in COLOR_SERIES_MAP
    return cs
    
def update_by_value(v):
    """
    æ ¹æ® V å€¼å»æ›´æ–°è‰²ç³»æ•°æ®
    :param v: 
    :return: 
    """
    if v <= 100 / 3 * 1:
        cs = 'black'
    elif v <= 100 / 3 * 2:
        cs = 'gray'
    else:
        cs = 'white'
    return cs
```
#### ä»£ç éªŒè¯

```python

if __name__ == '__main__':

    color_list = [[22, 24, 35], [36, 134, 185], [234, 137, 88], [32, 161, 98], [100, 106, 88]]

    for item in color_list:
        print(find_color_series(item))

```
è¿”å›ç»“æœï¼š
```plain
blue
cyan
red
cyan
yellow
```

è‡³æ­¤ï¼Œæˆ‘ä»¬å®Œæˆäº†æ•°æ®é¢œè‰²ç²—ç•¥çš„å½’ç±»ã€‚
åˆ°è¿™é‡Œå°±ç»“æŸäº†å—ï¼Ÿæ˜¾ç„¶æ²¡æœ‰ã€‚å®é™…ä¸Šï¼Œè¿™ç§æ•°æ®è¿”å›ç»“æœæ˜¯å¾ˆç²—ç³™çš„ï¼Œæˆ‘ä»¬éœ€è¦å¯¹ Hue è¿›è¡Œåå¤ä¿®æ­£æ‰èƒ½å¾—å‡ºä¸€ä¸ªè¾ƒä¸ºæ»¡æ„çš„ç»“æœã€‚æ­£å¦‚ç‰©ç†å®éªŒä¸€æ ·ï¼šç†è®ºå’Œå®è·µå¯èƒ½å­˜åœ¨è¾ƒå¤§åå·®ç”šè‡³å¯èƒ½å¾—å‡ºå®Œå…¨ç›¸åçš„ç»“è®ºï¼Œæ­¤å¤„æˆ‘ä»¬ä¸å†å±•å¼€ã€‚ğŸ˜‚æˆ‘ä»¬è¿›ä¸€æ­¥åˆ†ææ•°æ®ï¼Œå‘ç°ï¼š

> ç”šä¸‰**ç´…**ã€**é»„**æœ½è‘‰ã€åƒæ­³**ç·‘**ã€éŒ†**é’**ç£ã€æ±Ÿæˆ¸**ç´«**ã€**ç™½**ç·´â€¦â€¦

ä½ ç»†å“~æ˜¯çš„ï¼Œéƒ¨åˆ†é¢œè‰²åç§°é‡Œé¢å·²ç»åŒ…å«äº†é¢œè‰²çš„è‰²ç³»å…³é”®å­—ã€‚æˆ‘ä»¬å‡å®šåç§°çš„å‘½åæ˜¯é è°±çš„ã€‚é‚£ä¹ˆï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨æ­£åˆ™æŠŠè‰²ç³»å…³é”®å­—æå–å‡ºæ¥ï¼Œç„¶ååªå¯¹æ²¡æœ‰æŒ‡æ˜çš„é¢œè‰²è¿›è¡Œè®¡ç®—ã€‚

å¯æ˜¯ä¸Šé¢çš„ä»£ç å·²ç»å†™å®Œäº†ï¼Œæˆ‘ä¸æƒ³å†å¤§åŠ¨å¹²æˆˆä¿®æ”¹æ­¤å‡½æ•°ï¼Œæ€ä¹ˆåŠï¼Ÿæ­¤å¤„ï¼Œæˆ‘ä»¬ä½¿ç”¨è£…é¥°å™¨ã€‚

#### é¢œè‰²å½’ç±»ï¼ˆæŒ‰åç§°ï¼‰

```python
import re
from functools import wraps, partial


def attach_wrapper(obj, func=None):
    if func is None:
        return partial(attach_wrapper, obj)
    setattr(obj, func.__name__, func)
    return func


def find_color_series_by_name(name=''):
    """
    è£…é¥°å™¨ï¼šé€šè¿‡é¢œè‰²çš„ä¸­æ–‡åç§°åˆ©ç”¨æ­£åˆ™åŒ¹é…è·å–é¢œè‰²åç§°
    æˆ‘ä»¬å‡å®šå‘½åæ˜¯ç¬¦åˆäººç±»ä¸»è§‚æ„è¯†çš„ï¼Œå³ï¼šåç§°æ¯”æˆ‘ä»¬çš„ä»£ç æ›´å¯é 
    å› ä¸ºæŒ‰ç…§hsvå»åŒ¹é…çš„æ—¶å€™ä¼šæœ‰è¯¯å·®ï¼Œæ‰€ä»¥æˆ‘ä»¬å…ˆé€šè¿‡åç§°å»ç›´æ¥åŒ¹é…è‰²ç³»ï¼Œå¦‚æœåç§°ä¸­æ²¡æœ‰å…³é”®å­—ï¼Œæˆ‘ä»¬å†ä½¿ç”¨è‡ªå·±å†™çš„è§„åˆ™
    :param name:str,
    :return:
    """

    def deco(func):
        color_name_char = name

        @wraps(func)
        def wrapper(*args, **kwargs):
            color_series = ''
            if color_name_char:
                re_ret = re.match(REG_COLOR_SERES, color_name_char)
                if re_ret:
                    color_signal = re_ret.group(1)
                    color_series = COLOR_SERIES_MAP_REVERSE.get(color_signal)

            if color_series == '':
                color_series = func(*args, **kwargs)
            return color_series

        @attach_wrapper(wrapper)
        def set_color_name(new_name):
            nonlocal color_name_char
            color_name_char = new_name

        return wrapper
    return deco
```
å…³äºæ­¤å¤„è£…é¥°å™¨çš„å†™æ³•ï¼Œå‚è§ã€ŠPython Cookbook ä¸­æ–‡ç‰ˆã€‹V3 P342 ç¬¬ 9.5 ç« èŠ‚ï¼š*å®šä¹‰ä¸€ä¸ªå±æ€§å¯ç”±ç”¨æˆ·ä¿®æ”¹çš„è£…é¥°å™¨*ã€‚

æœ€åï¼Œæˆ‘ä»¬ç»™ä¹‹å‰å†™çš„å‡½æ•°æˆ´ä¸Šè¿™é¡¶å«åšè£…é¥°å™¨çš„â€œå¸½å­â€ã€‚
![è£…é¥°å™¨](/images/your_hat.jpg)

##### è£…é¥°å™¨ä½¿ç”¨

```python
@find_color_series_by_name(name='')
def find_color_series(rgb_seq):
    pass    # çœç•¥é‡å¤ä»£ç 
    
if __name__ == '__main__':
    
    test_color_map = {'ä¸œæ–¹çº¢': [254, 223, 225], 'çº¢ä¸œæ–¹': [215, 196, 187], 'æ–¹çº¢ä¸œ': [86, 46, 55], 'é»„ä¸¹': [240, 94, 28],
                      'ä¸‡çº¢ä¸›ä¸­ä¸€ç‚¹ç»¿': [63, 43, 54]}
    for k, v in test_color_map.items():
        find_color_series.set_color_name(k)
        find_color = find_color_series(v)
        print(find_color)

```
è¿”å›ç»“æœ
```plain
red
red
red
yellow
green
```
## æ€»ç»“å±•æœ›
ç»è¿‡ä¸Šé¢çš„æ­¥éª¤æˆ‘ä»¬å®Œæˆäº†é¢œè‰²çš„åˆ†ç±»ï¼Œä½†æ˜¯è¿™ç§åˆ†ç±»æ˜¯ç²—ç²’åº¦çš„ï¼Œç»“æœä¹Ÿå¯èƒ½æ˜¯ä¸å¤Ÿå‡†ç¡®çš„ã€‚å¦‚æœéœ€è¦æ›´ç²¾å‡†çš„è®¡ç®—ï¼Œå¯èƒ½éœ€è¦å»ºæ¨¡åŠç®—æ³•ç”šè‡³è®­ç»ƒæ¨¡å‹å»å®ç°ï¼Œè¿™é‡Œä¸å†å±•å¼€ï¼ˆ~~ä¸»è¦æ˜¯æˆ‘ä¸ä¼š~~ï¼‰ã€‚

å¦‚æœé¢œè‰²æœ¬èº«å‘½åé”™è¯¯ï¼Œå¦‚ä¸Šä¾‹ä¸­çš„â€œä¸‡çº¢ä¸›ä¸­ä¸€ç‚¹ç»¿â€ï¼Œæˆ‘ä»¬ç›´æ¥èµ°è£…é¥°å™¨åˆ¤æ–­é€»è¾‘ï¼Œå°±ä¼šä½¿è®¡ç®—è¿‡æ»¤çš„é€»è¾‘å¤±æ•ˆã€‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥æ•°æ®åˆ†åˆ«èµ°ä¸¤å¥—é€»è¾‘ï¼Œå¯¹äºä¸¤è€…è¿”å›ä¸€è‡´çš„ï¼Œæˆ‘ä»¬è®¤ä¸ºè¿™ä¸ªæ•°æ®æ˜¯å¯ä¿¡çš„ï¼›å¯¹äºä¸ä¸€è‡´çš„éƒ¨åˆ†ï¼Œæˆ‘ä»¬åˆ™éœ€è¦ä½¿ç”¨äººå·¥æ™ºèƒ½çš„â€œäººå·¥â€éƒ¨åˆ†å¯¹æ•°æ®è¿›è¡ŒäºŒæ¬¡ç¼–è¾‘ï¼Œä¹‹åå°†ç»“æœæ›´æ–°ä¸Šå»ã€‚

## è¥¿é£åŸ
1. æˆ‘ä»¬çŸ¥é“ Python æ˜¯ä¸€é—¨è‡ªå¸¦ç”µæ± çš„è¯­è¨€ï¼Œå…³äºé¢œè‰² rgb è½¬ hsvï¼Œå…¶å® [å®˜æ–¹æ¨¡å—](https://docs.python.org/zh-cn/3.7/library/colorsys.html) `colorsys` ä¸­å·²ç»æœ‰è‡ªå·±çš„å®ç°ï¼Œæˆ‘ä»¬éœ€è¦çš„åªæ˜¯å¯¹æ•°æ®åšç›¸åº”æ¯”ä¾‹çš„æ”¾å¤§ã€‚å½“ç„¶æˆ‘ä»¬ä¹Ÿå¯ä»¥åœ¨åç»­é€»è¾‘ä¸­ç›´æ¥ç”¨å®˜æ–¹è¿”å›çš„æ•°æ®åˆ’åˆ†åŒºåŸŸã€‚
```plain
>>> import colorsys
>>> colorsys.rgb_to_hsv(0.2, 0.4, 0.4)
(0.5, 0.5, 0.4)
>>> colorsys.hsv_to_rgb(0.5, 0.5, 0.4)
(0.2, 0.4, 0.4)
```
2. å…³äºé¢œè‰²çš„åˆ¤æ–­ï¼Œæˆ‘ä»¬çŸ¥é“è‰²çš„ä¸‰åŸè‰²ä¸º RGBï¼ˆçº¢ç»¿è“ï¼‰ï¼Œè€Œå®é™…é¢œè‰²æ˜¯æŒ‰ç…§ä¸åŒæ¯”ä¾‹æ··åˆçš„ï¼Œæ‰€ä»¥é¢œè‰²æ˜¯æ²¡æœ‰åŠæ³•çœŸçš„åšæ˜æ˜¾ç•Œçº¿åŒºåˆ†çš„ã€‚
> è°èƒ½åœ¨å½©è™¹é‡Œç”»ä¸‹ç´«è‰²ç»“æŸã€æ©™è‰²å¼€å§‹çš„åˆ†ç•Œçº¿å‘¢ï¼Ÿæˆ‘ä»¬èƒ½æ¸…æ™°åœ°çœ‹åˆ°é¢œè‰²çš„ä¸åŒï¼Œä½†æ˜¯ç©¶ç«Ÿåœ¨ä»€ä¹ˆåœ°æ–¹ä¸€ç§é¢œè‰²é€æ¸åœ°æ··å…¥äº†å¦ä¸€ç§é¢œè‰²å‘¢ï¼Ÿç†æ™ºå’Œç–¯ç‹‚çš„ç•Œé™ï¼Œäº¦æ˜¯å¦‚æ­¤ã€‚
3. æ—¥å¸¸é»‘ç”·æ€§ç¯èŠ‚ï¼š
![ç”·ç”Ÿçœ¼ä¸­çš„é¢œè‰² vs å¥³ç”Ÿçœ¼ä¸­çš„é¢œè‰²](/images/colors-for-male-and-female.jpg)

## é“¾æ¥

### æºç ä¸‹è½½
ğŸ­ [my_practices/codes/tell_color_by_rgb at master Â· imoyao/my_practices](https://github.com/imoyao/my_practices/tree/master/codes/tell_color_by_rgb)

### å‚è€ƒé“¾æ¥
- [ä» RGB åˆ° HSV çš„è½¬æ¢è¯¦ç»†ä»‹ç»_äººå·¥æ™ºèƒ½_hanshanbuleng çš„åšå®¢-CSDN åšå®¢](https://blog.csdn.net/hanshanbuleng/article/details/80383813)
- [çŸ¥é“ä¸€ä¸ªé¢œè‰²çš„ RGB å¦‚ä½•å½’ç±»åˆ°ç‰¹å®šé¢œè‰²ï¼ˆå¦‚èµ¤æ©™é»„ç»¿é’è“ç´«é»‘ç™½ç°ï¼‰ï¼Ÿ - V2EX](https://www.v2ex.com/amp/t/153186)
- [How can I tell basic color a hex code is closest to? - Graphic Design Stack Exchange](https://graphicdesign.stackexchange.com/questions/92984/how-can-i-tell-basic-color-a-hex-code-is-closest-to)
- [algorithm - "Rounding" colour values to the nearest of a small set of colours - Stack Overflow](https://stackoverflow.com/questions/4057475/rounding-colour-values-to-the-nearest-of-a-small-set-of-colours/4356523#4356523)

### æ¨èé˜…è¯»
- [é’è‰²æ˜¯ä»€ä¹ˆæ ·å­çš„ï¼Ÿ| æœå£³ ç§‘æŠ€æœ‰æ„æ€](https://www.guokr.com/article/437666/)

### å…¶ä»–
- [é¢œè‰²åˆ—è¡¨ - ç»´åŸºä¸­æ–‡é•œåƒï¼Œè‡ªç”±çš„ç™¾ç§‘å…¨ä¹¦](http://www.bosimedia.com/wiki/%E9%A2%9C%E8%89%B2%E5%88%97%E8%A1%A8)
- [latex åœ¨çº¿å…¬å¼ç¼–è¾‘å™¨æ±‰åŒ–ç‰ˆ](http://www.jq22.com/yanshi16883)
- [HSV to RGB conversion | color conversion](https://www.rapidtables.com/convert/color/hsv-to-rgb.html)
