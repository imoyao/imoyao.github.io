<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>DRBD用户手册之命令篇 | 别院牧志</title>
  <meta name="author" content="imoyao">
  
  <meta name="description" content="Valar Dohaeris.">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <meta property="og:title" content="DRBD用户手册之命令篇"/>
  <meta property="og:site_name" content="别院牧志"/>

  
    <meta property="og:image" content=""/>
  

  
  
    <link href="/favicon.ico" rel="icon">
  

  <!-- CSS -->
  <link rel="stylesheet" href="/css/themes/journal.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/font-awesome.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/responsive.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/highlight.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/highlight-default.min.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/google-fonts.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/comment.css" media="screen" type="text/css">
  <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/es5-shim/4.5.9/es5-shim.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/es5-shim/4.5.7/es5-sham.min.js"></script>
  <![endif]-->

  <script src="/js/jquery-2.0.3.min.js"></script>
  
    <script src="/js/marked.js"></script>
    <script src="/js/comment.js"></script>
    <script src="/js/timeago.min.js"></script>
    <script src="/js/highlight.min.js"></script>
	<script src="/js/spin.min.js"></script>
  
  <!-- analytics -->
  



</head>

 <body>  
  <nav id="main-nav" class="navbar  navbar-default navbar-fixed-top" role="navigation">
    <div class="container">
      <button type="button" class="navbar-header navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
	<span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
       <a class="navbar-brand" href="/">别院牧志</a>
      <div class="collapse navbar-collapse nav-menu">
		<ul class="nav navbar-nav">
		  
		  <li>
			<a href="/archives" title="All the articles.">
			  <i class="fa fa-archive"></i>归档
			</a>
		  </li>
		  
		  <li>
			<a href="/categories" title="All the categories.">
			  <i class="fa fa-folder"></i>分类
			</a>
		  </li>
		  
		  <li>
			<a href="/tags" title="All the tags.">
			  <i class="fa fa-tags"></i>标签
			</a>
		  </li>
		  
		  <li>
			<a href="/about" title="About me.">
			  <i class="fa fa-user"></i>关于我
			</a>
		  </li>
		  
		</ul>
      </div>
    </div> <!-- container -->
</nav>
<div class="clearfix"></div>

  <div class="container">
  	<div class="content">
    	 


	
		<div class="page-header ">		
			<h1 class="title "> DRBD用户手册之命令篇</h1>
		</div>		
	






<div class="row post">
	<!-- cols -->
	
	<div id="top_meta"></div>
	<div class="col-md-9">
	

	<!-- content -->
	<div class="mypage">
	  		

	  <script src="/assets/js/APlayer.min.js"> </script><p>本文基于<code>DRBD-8.4</code>版编写。<br><a id="more"></a></p>
<h1 id="drbd-conf-配置文件"><a href="#drbd-conf-配置文件" class="headerlink" title="drbd.conf-配置文件"></a>drbd.conf-配置文件</h1><p>TODO</p>
<h1 id="drbdmeata-元数据"><a href="#drbdmeata-元数据" class="headerlink" title="drbdmeata-元数据"></a>drbdmeata-元数据</h1><p>TODO</p>
<h1 id="drbd"><a href="#drbd" class="headerlink" title="drbd"></a>drbd</h1><p>TODO</p>
<h1 id="drbdadm-管理工具"><a href="#drbdadm-管理工具" class="headerlink" title="drbdadm-管理工具"></a>drbdadm-管理工具</h1><h2 id="名称"><a href="#名称" class="headerlink" title="名称"></a>名称</h2><p>drbdadm - <code>DRBD</code>管理工具</p>
<h2 id="概要"><a href="#概要" class="headerlink" title="概要"></a>概要</h2><pre><code>drbdadm [-d] [-c { file}] [-t {file}] [-s {cmd}] [-m { cmd}] [-S] [-h {host}] [-- { backend-options}] {command} [{all} | { resource[/volume&gt;]...}]
</code></pre><h2 id="描述"><a href="#描述" class="headerlink" title="描述"></a>描述</h2><p><code>Drbdadm</code>是<code>DRBD</code>程序套件的高级工具。 <code>Drbdadm</code>与<code>drbdsetup</code>和<code>drbdmeta</code>的关系可类比于 <code>ifup / ifdown</code>与<code>ifconfig</code> 。 <code>Drbdadm</code>通过调用<code>drbdsetup</code>和（或）<code>drbdmeta</code>程序读取相关配置文件并执行指定的命令。<br><code>Drbdadm</code>可以运行整个资源或资源中的单个卷。 子命令： <code>attach</code> ， <code>detach</code> ， <code>primary</code> ， <code>secondary</code>， <code>invalidate</code> ， <code>invalidate-remote</code> ， <code>outdate</code> ， <code>resize</code> ， <code>verify</code> ， <code>pause-sync</code> ， <code>resume-sync</code> ， <code>role</code> ， <code>cstate</code> ， <code>dstate</code> ， <code>create-md</code> ， <code>show-gi</code> ， <code>get-gi</code> ， <code>dump-md</code> ， <code>wipe-md</code>可以作用于整个资源和单个卷上。<br>仅限资源级别的命令有：<code>connect</code>, <code>disconnect</code>, <code>up</code>, <code>down</code>, <code>wait-connect</code> 和 <code>dump</code> 。</p>
<h2 id="选项"><a href="#选项" class="headerlink" title="选项"></a>选项</h2><ul>
<li>-d ，– dry-run</li>
</ul>
<p>仅将<code>drbdsetup</code>的调用打印到<code>stdout</code>，但不会运行这些命令。</p>
<ul>
<li>-c ，– config-file 文件</li>
</ul>
<p>指定<code>drbdadm</code>将使用的配置文件。 如果未指定此参数，则<code>drbdadm</code>将查找<code>/etc/drbd-84.conf</code>、<code>/etc/drbd-83.conf</code>、<code>/etc/drbd-08.conf</code>和<code>/etc/drbd.conf</code> 。</p>
<ul>
<li>-t ，– config-to-test 文件</li>
</ul>
<p>指定一个额外的<code>drbdadm</code>检查文件。 该选项仅适用于<code>dump</code>和<code>sh-nop</code>命令。</p>
<ul>
<li>-s ，– drbdsetup 文件</li>
</ul>
<p>指定<code>drbdsetup</code>程序的完整路径。 如果省略此选项，<code>drbdadm</code>将首先内部查找它，然后在<code>PATH</code>环境变量中查找它。</p>
<ul>
<li>-m ，– drbdmeta 文件</li>
</ul>
<p>指定<code>drbdmeta</code>程序的完整路径。 如果省略此选项，<code>drbdadm</code>将首先内部查找它，然后在<code>PATH</code>中查找它。</p>
<ul>
<li>-S ， –stacked</li>
</ul>
<p>指定应该在堆叠资源上执行此命令。</p>
<ul>
<li>-P ， –peer</li>
</ul>
<p>指定要连接的对等节点。 只有当您正在使用的资源中有两个以上的主机时才需要此选项。</p>
<ul>
<li>后端配置选项</li>
</ul>
<p>双连字符（–）后面的所有选项都被视为后端选项。这些选项会传递给后端命令。 即<code>drbdsetup</code>、<code>drbdmeta</code>或<code>drbd-proxy-ctl</code> 。</p>
<h2 id="命令"><a href="#命令" class="headerlink" title="命令"></a>命令</h2><ul>
<li>attach</li>
</ul>
<p>将本地支持块设备连接到DRBD资源的设备。</p>
<ul>
<li>detach</li>
</ul>
<p>从DRBD资源的设备中删除备份存储设备。</p>
<ul>
<li>connect</li>
</ul>
<p>建立资源设备的网络配置。 如果对等设备已配置，则两个<code>DRBD</code>设备将连接。 如果资源中有两个以上的主机部分，则需要使用<code>--peer</code>选项来选择要连接的对等端。</p>
<ul>
<li>disconnect</li>
</ul>
<p>从资源中删除网络配置。 设备将进入<code>StandAlone</code>状态。</p>
<ul>
<li>syncer（注：<code>drbdadm --help</code> 未发现该命令）</li>
</ul>
<p>将重新同步参数加载到设备中。</p>
<ul>
<li>up</li>
</ul>
<p>是<code>attach</code>、<code>syncer</code>和 <code>connect</code>的快捷方式。</p>
<p>实际上，可以将<code>drbdadm up</code>拆分为以下几个动作：</p>
<ol>
<li>将drbd的资源关联到底层设备(metadata和data区)上，使之能通过底层设备存、取数据。该过程调用的是drbdsetup程序。<pre><code>drbdadm attach drbd1
</code></pre></li>
<li>加载drbd资源的同步参数。<pre><code>drbdadm syncer drbd1
</code></pre></li>
<li>连接对端。<pre><code>drbdadm connect drbd1
</code></pre></li>
</ol>
<p>这些命令在<code>drbdadm</code>中部分已弃用，放在这里只是为了说明<code>up</code>时所执行的几个步骤。</p>
<ul>
<li>down</li>
</ul>
<p>是<code>disconnect</code> 和 <code>detach</code>的捷径。</p>
<ul>
<li>primary</li>
</ul>
<p>将资源设备转化为主要角色。 您需要在访问设备之前执行此操作，如创建或挂载文件系统。</p>
<ul>
<li>secondary</li>
</ul>
<p>将设备转回次要角色。 这是必需的，因为在连接状态的DRBD设备对中，两个节点中只能有一个节点是主端（除非在配置文件中明确设置了<strong>allow-two-primaries</strong> ）。</p>
<ul>
<li>invalidate</li>
</ul>
<p>强制DRBD将本地存储设备上的数据视为不同步（out-of-sync）。 因此，DRBD将复制其对等体中的每个块，以使本地存储设备重新同步。 为避免竞争，你需要建立了的复制链接，或断开连接的次端。</p>
<ul>
<li>invalidate-remote</li>
</ul>
<p>该命令类似于<code>invalidate</code>命令，但是是对等端的备份存储被视为无效，因此对端被本地节点的数据重写。 为避免竞争，您需要已建立的复制链接，或断开连接的主端。</p>
<ul>
<li>resize</li>
</ul>
<p><code>DRBD</code>重新检查所有大小限制，并相应调整资源的设备大小。 例如，如果您增加了备份存储设备的大小（当然是在两个节点上均进行次操作），那么在您的某个节点上调用此命令后，DRBD将采用新的大小。 由于必须同步新的存储空间，因此只有存在至少一个主节点时，此命令才可用。<br><code>--size</code>选项可用于联机缩小<code>drbd</code>设备的可用大小。 用户必须负责确保设备上的文件系统不被该操作截断。<br><code>--assume-peer-have-space</code>允许你调整当前未连接到对等设备的设备。 使用时需要小心，因为如果您不重新调整对等磁盘的大小，则两者的进一步连接尝试将失败。<br><code>--assume-clean</code>允许您调整现有设备的大小并避免同步新的空间。 将附加空白存储添加到设备时，这样操作非常有用。 例：</p>
<pre><code># drbdadm -- --assume-clean resize r0
</code></pre><p>选项<code>-al-stripes</code>和<code>--al-stripe-size-kB</code>可用于在线更改 <code>activity log</code>的布局。 在使用内部元数据的情况下，这可能会同时缩小用户可见大小（使用<code>--size</code> ）或增加后备设备上的可用空间。</p>
<ul>
<li>check-resize</li>
</ul>
<p>调用<code>drbdmeta</code>达到移动内部元数据的目的。 如果后台设备的大小已调整，而<code>DRBD</code>未运行，则必须将元数据移至设备的末尾，以便接下来的 <code>attach</code> 命令可以成功。</p>
<ul>
<li>create-md</li>
</ul>
<p>初始化元数据存储。 这需要在<code>DRBD</code>资源首次上线之前完成。 如果有关于该命令的问题请看<a href="https://docs.linbit.com/man/v84/drbdmeta-8/" target="_blank" rel="noopener">drbdmeta</a></p>
<ul>
<li>get-gi</li>
</ul>
<p>显示数据生成标识符(<code>GI元祖</code>)的简短文字表示。</p>
<ul>
<li>show-gi</li>
</ul>
<p>打印包含说明信息的数据生成标识符的文本表示。</p>
<ul>
<li>dump-md</li>
</ul>
<p>以文本形式转储元数据存储的全部内容，包括存储的位图和活动日志。</p>
<ul>
<li>outdate</li>
</ul>
<p>设置元数据中的过期标志。</p>
<ul>
<li>adjust</li>
</ul>
<p>将设备的配置与你的配置文件同步。 在实际执行此命令之前，应始终检查<code>dry-run</code>模式的输出。</p>
<ul>
<li>wait-connect</li>
</ul>
<p>等待设备连接到对等设备。</p>
<ul>
<li>role</li>
</ul>
<p>显示设备的当前角色（local/peer）。 例如：<code>Primary/Secondary</code></p>
<ul>
<li>state</li>
</ul>
<p>不赞成使用（废止），“角色”的别名，参见上文。</p>
<ul>
<li>cstate</li>
</ul>
<p>显示设备的当前连接状态。如：Connected、StandAlone等</p>
<ul>
<li>dump</li>
</ul>
<p>解析配置文件并将其转储到<code>stdout</code>。 可用于检查配置文件的语法正确性。</p>
<ul>
<li>outdate</li>
</ul>
<p>用于将节点的数据标记为过时。 通常由对等方的fence-peer处理程序使用。</p>
<ul>
<li>verify</li>
</ul>
<p>开始在线验证。 在线验证期间，比较两个节点上的数据是否相等。 请参阅<code>/proc/drbd</code>进行在线验证。 如果发现不同步块，则它们不会自动重新同步。因此，请在验证完成后使用<code>disconnect</code> 和<code>connect</code>断开并连接资源。<br>另请参阅<code>drbd.conf</code>联机帮助页上有关数据完整性的注意事项。</p>
<ul>
<li>pause-sync</li>
</ul>
<p>通过设置本地暂停标志暂时中止正在进行的重新同步。 如果本地和远程暂停标志均未设置，则同步进行。 可能需要推迟<code>DRBD</code>的重新同步到支持存储的<code>RAID</code>设置重新同步之后进行。</p>
<ul>
<li>resume-sync</li>
</ul>
<p>取消设置本地同步暂停标志。</p>
<ul>
<li>new-current-uuid</li>
</ul>
<p>生成新的<code>当前 UUID</code>并旋转所有其他UUID值。<br>这可以用来缩短集群的初始再同步。 有关更多详细信息，请参阅<code>drbdsetup</code>联机帮助页。</p>
<ul>
<li>dstate</li>
</ul>
<p>以<code>local/peer</code>形式显示后备存储设备的当前状态。 如：UpToDate/UpToDate</p>
<ul>
<li>hidden-commands</li>
</ul>
<p>显示所有命令没有记录的命令。</p>
<pre><code class="shell">
[root@imoyao ~]# drbdadm hidden-commands

These additional commands might be useful for writing   # 写脚本或许有用
nifty shell scripts around drbdadm:

 sh-nop                             sh-resources                       
 sh-resource                        sh-mod-parms                       
 sh-dev                             sh-udev                            
 sh-minor                           sh-ll-dev                          
 sh-md-dev                          sh-md-idx                          
 sh-ip                              sh-lr-of                           
 sh-b-pri                           sh-status                          
 proxy-up                           proxy-down                         
 new-resource                       

These commands are used by the kernel part of DRBD to   # drbd内核
invoke user mode helper programs:

 before-resync-target               after-resync-target                
 before-resync-source               pri-on-incon-degr                  
 pri-lost-after-sb                  fence-peer                         
 local-io-error                     pri-lost                           
 initial-split-brain                split-brain                        
 out-of-sync                        

These commands ought to be used by experts and developers:  # 开发人员

 sh-new-minor                       new-minor                          
 suspend-io                         resume-io                          
 set-gi                             new-current-uuid                   
 check-resize
</code></pre>
<h1 id="drbddisk-8"><a href="#drbddisk-8" class="headerlink" title="drbddisk.8"></a>drbddisk.8</h1><p>TODO</p>
<h1 id="drbdsetup-8-配置内核模块"><a href="#drbdsetup-8-配置内核模块" class="headerlink" title="drbdsetup.8-配置内核模块"></a>drbdsetup.8-配置内核模块</h1><p>TODO</p>
<h1 id="版本信息"><a href="#版本信息" class="headerlink" title="版本信息"></a>版本信息</h1><p>本文档针对DRBD发行版本8.4.0进行了修订。</p>
<h1 id="作者"><a href="#作者" class="headerlink" title="作者"></a>作者</h1><p>由Philipp Reisner <a href="&#x6d;&#x61;&#x69;&#x6c;&#x74;&#111;&#58;&#x70;&#104;&#105;&#x6c;&#x69;&#112;&#112;&#46;&#x72;&#x65;&#x69;&#115;&#110;&#x65;&#114;&#64;&#x6c;&#105;&#x6e;&#98;&#x69;&#116;&#46;&#x63;&#x6f;&#109;">&#x70;&#104;&#105;&#x6c;&#x69;&#112;&#112;&#46;&#x72;&#x65;&#x69;&#115;&#110;&#x65;&#114;&#64;&#x6c;&#105;&#x6e;&#98;&#x69;&#116;&#46;&#x63;&#x6f;&#109;</a>和Lars Ellenberg撰写<a href="&#x6d;&#x61;&#105;&#108;&#116;&#111;&#x3a;&#108;&#97;&#x72;&#x73;&#46;&#x65;&#108;&#108;&#x65;&#110;&#x62;&#101;&#114;&#103;&#x40;&#x6c;&#x69;&#110;&#98;&#x69;&#116;&#46;&#99;&#111;&#x6d;">&#108;&#97;&#x72;&#x73;&#46;&#x65;&#108;&#108;&#x65;&#110;&#x62;&#101;&#114;&#103;&#x40;&#x6c;&#x69;&#110;&#98;&#x69;&#116;&#46;&#99;&#111;&#x6d;</a>。中译版由<code>imoyao</code>首发于别院牧志（<code>idealyard</code>）</p>
<h1 id="报告错误"><a href="#报告错误" class="headerlink" title="报告错误"></a>报告错误</h1><p>将错误报告给<a href="&#109;&#97;&#105;&#x6c;&#x74;&#x6f;&#58;&#100;&#x72;&#98;&#100;&#45;&#117;&#x73;&#101;&#114;&#x40;&#108;&#x69;&#x73;&#116;&#115;&#x2e;&#108;&#105;&#110;&#x62;&#x69;&#116;&#46;&#x63;&#x6f;&#109;">&#100;&#x72;&#98;&#100;&#45;&#117;&#x73;&#101;&#114;&#x40;&#108;&#x69;&#x73;&#116;&#115;&#x2e;&#108;&#105;&#110;&#x62;&#x69;&#116;&#46;&#x63;&#x6f;&#109;</a>。</p>
<h1 id="版权"><a href="#版权" class="headerlink" title="版权"></a>版权</h1><p>版权所有2001-2011 LINBIT信息技术公司，Philipp Reisner，Lars Ellenberg。 这是免费软件; 请参阅复制条件的来源。 没有保修; 甚至不适用于适销性或针对特定用途的适用性。</p>
<h1 id="推荐阅读"><a href="#推荐阅读" class="headerlink" title="推荐阅读"></a>推荐阅读</h1><p>drbd.conf （5）， drbd （8）， drbddisk （8）， drbdsetup （8）， drbdmeta （8）和DRBD项目网站 [1]</p>
<h1 id="参考链接"><a href="#参考链接" class="headerlink" title="参考链接"></a>参考链接</h1><ul>
<li><a href="https://docs.linbit.com/man/v84/" target="_blank" rel="noopener">DRBD 8.4 Manual Pages</a></li>
</ul>
	  
	</div>

	<!-- recommended posts -->
	

	<div>
  	<center>
	<div class="pagination">
<ul class="pagination">
	 
				
    	<li class="prev"><a href="/blog/2018-08-28/drbd-with-external-disk/" class="alignleft prev"><i class="fa fa-arrow-circle-o-left"></i>上一页</a></li>
  		

        <li><a href="/archives"><i class="fa fa-archive"></i>Archive</a></li>

		
		   <li class="next"><a href="/blog/2018-05-27/Split-Brain-Of-DRBD/" class="alignright next">下一页<i class="fa fa-arrow-circle-o-right"></i></a></li>         
        
	
</ul>
</div>

    </center>
	</div>

    <!-- share -->
    
        
    <div class="bdsharebuttonbox">
        <a href="#" class="bds_more" data-cmd="more"></a>
        <a href="#" class="bds_weixin" data-cmd="weixin" title="分享到微信"></a>
        <a href="#" class="bds_tsina" data-cmd="tsina" title="分享到新浪微博"></a>
        <a href="#" class="bds_fbook" data-cmd="fbook" title="分享到Facebook"></a>
        <a href="#" class="bds_twi" data-cmd="twi" title="分享到Twitter"></a>
        <a href="#" class="bds_linkedin" data-cmd="linkedin" title="分享到linkedin"></a>
        <a href="#" class="bds_evernotecn" data-cmd="evernotecn" title="分享到印象笔记"></a>
        <a href="#" class="bds_youdao" data-cmd="youdao" title="分享到有道云笔记"></a>
        <a href="#" class="bds_copy" data-cmd="copy" title="分享到复制网址"></a>
    </div>
    <script>
        window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"2","bdMiniList":false,"bdPic":"","bdStyle":"1","bdSize":"24"},"share":{}};
        with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];
    </script>


        

    
	
	<!-- comment -->
	
<section id="comment">
  <h2 class="title">留言</h2>
    	 
	 <div id="comment-thread"></div>
	 <div id="loading-spin"></div>
	 <script type="text/javascript">
	   getComments({
           type: "github" ? "github" : "github",       
	       user: "imoyao",
	       repo: "imoyao.github.io",
		   client_id: "",
           client_secret: "",
		   no_comment: "暂时还没有留言呢，点击下面的按钮去留言吧！",
		   go_to_comment: "去留言",
		   no_issue: "no_issue",
		   issue_title: "DRBD用户手册之命令篇",
		   issue_id: "",
		   btn_class: "btn btn-primary",
		   comments_target: "#comment-thread",
		   loading_target: "#loading_spin"
		   });
	 </script>
  
</section>


	</div> <!-- col-md-9/col-md-12 -->
		
	
	<div id="side_meta">
		<div class="col-md-3" id="post_meta"> 

	<!-- date -->
	
	<div class="meta-widget">
	<i class="fa fa-clock-o"></i>
	2018-06-22 
	</div>
	

	<!-- categories -->
    

	<!-- tags -->
	
	<div class="meta-widget">
	<a data-toggle="collapse" data-target="#tags"><i class="fa fa-tags"></i></a>		  
    <ul id="tags" class="tag_box list-unstyled collapse in">	  
	    
  <li><a href="/tags/DRBD/">DRBD<span>7</span></a></li>
    </ul>
	</div>
	

	<!-- toc -->
	<div class="meta-widget">
	
	   <a data-toggle="collapse" data-target="#toc"><i class="fa fa-bars"></i></a>
	   <div id="toc" class="toc collapse in">
			<ol class="toc-article"><li class="toc-article-item toc-article-level-1"><a class="toc-article-link" href="#drbd-conf-配置文件"><span class="toc-article-text">drbd.conf-配置文件</span></a></li><li class="toc-article-item toc-article-level-1"><a class="toc-article-link" href="#drbdmeata-元数据"><span class="toc-article-text">drbdmeata-元数据</span></a></li><li class="toc-article-item toc-article-level-1"><a class="toc-article-link" href="#drbd"><span class="toc-article-text">drbd</span></a></li><li class="toc-article-item toc-article-level-1"><a class="toc-article-link" href="#drbdadm-管理工具"><span class="toc-article-text">drbdadm-管理工具</span></a><ol class="toc-article-child"><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#名称"><span class="toc-article-text">名称</span></a></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#概要"><span class="toc-article-text">概要</span></a></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#描述"><span class="toc-article-text">描述</span></a></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#选项"><span class="toc-article-text">选项</span></a></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#命令"><span class="toc-article-text">命令</span></a></li></ol></li><li class="toc-article-item toc-article-level-1"><a class="toc-article-link" href="#drbddisk-8"><span class="toc-article-text">drbddisk.8</span></a></li><li class="toc-article-item toc-article-level-1"><a class="toc-article-link" href="#drbdsetup-8-配置内核模块"><span class="toc-article-text">drbdsetup.8-配置内核模块</span></a></li><li class="toc-article-item toc-article-level-1"><a class="toc-article-link" href="#版本信息"><span class="toc-article-text">版本信息</span></a></li><li class="toc-article-item toc-article-level-1"><a class="toc-article-link" href="#作者"><span class="toc-article-text">作者</span></a></li><li class="toc-article-item toc-article-level-1"><a class="toc-article-link" href="#报告错误"><span class="toc-article-text">报告错误</span></a></li><li class="toc-article-item toc-article-level-1"><a class="toc-article-link" href="#版权"><span class="toc-article-text">版权</span></a></li><li class="toc-article-item toc-article-level-1"><a class="toc-article-link" href="#推荐阅读"><span class="toc-article-text">推荐阅读</span></a></li><li class="toc-article-item toc-article-level-1"><a class="toc-article-link" href="#参考链接"><span class="toc-article-text">参考链接</span></a></li></ol>
		</div>
	
	</div>
	
    <hr>
	
</div><!-- col-md-3 -->

	</div>
		

</div><!-- row -->



	</div>
  </div>
  <div class="container-narrow">
  <footer> <p>
  &copy; 2019 imoyao
  
      with help from <a href="http://hexo.io/" target="_blank">Hexo</a> and <a href="http://getbootstrap.com/" target="_blank">Twitter Bootstrap</a>. Theme by <a href="http://github.com/wzpan/hexo-theme-freemind/">Freemind</a>.    
</p> </footer>
</div> <!-- container-narrow -->
  


  
<a id="gotop" href="#" style="text-align: center;line-height: 36px;">
  <i class="fa fa-chevron-up"></i>
</a>

<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script src="/js/main.js"></script>
<script src="/js/search.js"></script> 


<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>



   <script type="text/javascript">      
     var search_path = "search.xml";
	 if (search_path.length == 0) {
	 	search_path = "search.xml";
	 }
	 var path = "/" + search_path;
     searchFunc(path, 'local-search-input', 'local-search-result');
   </script>


<!-- syntax highlighting -->

  <script>
  marked.setOptions({
    highlight: function (code, lang) {
        return hljs.highlightAuto(code).value;
    }
  });
  function Highlighting(){
    var markdowns = document.getElementsByClassName('markdown');
    for(var i=0;i<markdowns.length;i++){
        if(markdowns[i].innerHTML) markdowns[i].innerHTML =marked(markdowns[i].innerHTML);
    }
  }
  window.addEventListener('DOMContentLoaded', Highlighting, false);
  window.addEventListener('load', Highlighting, false);
  </script>


</body>
   </html>
